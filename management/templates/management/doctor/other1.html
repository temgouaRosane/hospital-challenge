{% extends "management/doctor/base_doctor.html" %} 
{% load static %} 

{% block body %}
<section class="content profile-page" style="min-height: 700px;">
    <div class="container-fluid">
        <div class="block-header">
            <h2>Patient Profile</h2>
            
        </div>        
        <div class="row clearfix">
            <div class="col-lg-4 col-md-12 col-sm-12">
               
                <div class="card">
                    <div class="header">
                        <h2><strong>ABOUT PATIENT</strong></h2>
                    </div>
                    <div class="body">
                        <strong>Name</strong>
                        <p style="text-transform: uppercase;">{{patient.first_name}} {{patient.last_name}}</p>
                        <hr>
                        <strong>Date of birth</strong>
                        <p>{{patient.date_of_birth}}</p>
                        <hr>
                        <strong>Gender</strong>
                        <p>{{patient.gender}}</p>
                        <hr>
                        <strong>Marital Status</strong>
                        <p>
                            {%if patient.marital_status%}
                                Married
                            {%else%}
                                Single
                            {%endif%}
                        </p>
                        <hr>
                        <strong>Profession</strong>
                        <p>{{patient.profession}}</p>
                        <hr>
                        <strong>Phone</strong>
                        <p>{{patient.phone}}</p>
                        <hr>
                        <strong>Emergency Phone</strong>
                        <p>{{patient.emergency_phone}}</p>
                        <hr>
                        <strong>Email ID</strong>
                        <p>{{patient.email}}</p>
                        <hr>
                        <strong>Address</strong>
                        <address>{{patient.location}}</address>
                    </div>
                </div>
            </div>
            <div class="col-lg-8 col-md-12 col-sm-12">
                
            <div class="row clearfix">
                <div class="col-lg-12 col-md-12 col-sm-12">
                    <div class="card">
                        
                        <div class="header">
                            <ul class="header-dropdown">
                                <li class="dropdown"> <a href="javascript:void(0);" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"><i class="zmdi zmdi-more-vert"></i></a>
                                    <ul class="dropdown-menu pull-right">
                                        <li><a href="javascript:void(0);">Action</a></li>
                                        <li><a href="javascript:void(0);">Another action</a></li>
                                        <li><a href="javascript:void(0);">Something else here</a></li>
                                    </ul>
                                </li>
                            </ul>
                        </div>
                        <div class="body">
                            <ul class="nav nav-tabs" role="tablist">
                                <li class="nav-item"><button class="nav-link active"data-toggle="tab" onclick=" javascript:DeleteVisibility2('appointments', 'parameters', 'prescriptions');">APPOINTMENTS</button></li>
                                <li class="nav-item"><button class="nav-link"data-toggle="tab" onclick="javascript:DeleteVisibility2('parameters', 'appointments', 'prescriptions');">ALL PARAMETERS</button></li>
                                <li class="nav-item"><button class="nav-link" data-toggle="tab" onclick="javascript:DeleteVisibility2('prescriptions', 'appointments', 'parameters');">ALL PRESCRIPTIONS</button></li>
                            </ul>   
                        
                            <div class="table-responsive" id="appointments" class="col-sm-12" style="display:block;">
                                <table class="table table-striped">
                                    <thead>
                                        <tr>
                                            <th>#</th>
                                            <th>DOCTOR</th>
                                            <th>PATIENT</th>
                                            <th>DATE</th>
                                            <th>HOUR</th>
                                            <th>STATE</th>
                                            
                                        </tr>
                                    </thead>
                                    <tbody>
                                        {% for appointment in appointments %}
                                        <tr>
                                            <td></td>
                                            <td class="txt-oflo" style="text-transform: uppercase;"><span>{{appointment.doctor.first_name}} {{appointment.doctor.last_name}}</span></td>
                                            <td><span style="text-transform: uppercase;">{{appointment.patient.first_name}} {{appointment.patient.last_name}}</span> </td>
                                            <td class="txt-oflo">{{appointment.date_appointment}}</td>
                                            <td class="txt-oflo">{{appointment.hour_appointment}}</td>
                                            {% if appointment.state == "Consulté" %}
                                            <td class="txt-oflo"><span>{{appointment.state}}</span></td>
                                            {% else %}
                                            <td class="txt-oflo"><span style="width: auto; background-color: rgb(247, 117, 11);">{{appointment.state}}</span></td>
                                            {% endif %}   
                                        </tr>
                                        {% endfor %}
                                    </tbody>
                                </table>
                                <!-- <a href="javascript:void(0);">Check all the sales</a> -->
                            </div>
                            <div id = "parameters"class="table-responsive" class="col-sm-12" style="display:none;">
                                <table class="table table-striped">
                                    <thead>
                                        <tr>
                                            <th>#</th>
                                            <th>Date_creation</th>
                                            <th>Blood_pressure (Hg/Hg)</th>
                                            <th>Pulse(beats per minute)</th>
                                            <th>Breathing_rate (breaths per minute)</th>
                                            <th>Heart_rate (beats per minute)</th>
                                            <th>Weight (Kg)</th>
                                            <th>Height(m)</th>
                                            <th>blood_sugar (mg/dL)</th>
                                            <th>temperature (°C)</th>
                                            <th>Other</th>
                                            
                                            
                                        </tr>
                                    </thead>
                                    <tbody>
                                        {% for parameter in parameters %}
                                        <tr>
                                            <td></td>
                                            <td>{{parameter.date_creation}}</td>
                                            <td class="txt-oflo"><span>{{parameter.blood_pressure}}</span></td>
                                            <td><span>{{parameter.pulse}}</span> </td>
                                            <td>{{parameter.breathing_rate}}</td>
                                            <td>{{parameter.heart_rate}}</td>
                                            <td class="txt-oflo"><span>{{parameter.weight}}</span></td>
                                            <td><span>{{parameter.height}}</span> </td>
                                            <td>{{parameter.blood_sugar}}</td>
                                            <td class="txt-oflo"><span>{{parameter.temperature}}</span></td>
                                            <td><span>{{parameter.other}}</span> </td>
                                            
                                           </tr>
                                        {% endfor %}
                                    </tbody>
                                </table>
                                <!-- <a href="javascript:void(0);">Check all the sales</a> -->
                            </div>
                            <div id="prescriptions" class="table-responsive" class="col-sm-12" style="display:none;">
                                <table class="table table-striped">
                                    <thead>
                                        <tr>
                                            <th>#</th>
                                            <th style="width:30%;">Date_creation</th>
                                            <th style="width:50%;">Doctor</th>
                                            <th style="width:50%;">Action</th>

                                            
                                        </tr>
                                    </thead>
                                    <tbody>
                                        {% for prescription in prescriptions %}
                                            <tr>
                                                <td></td>
                                                <td>{{prescription.prescripted_date}}</td>
                                                <td class="txt-oflo"><span>{{prescription.doctor}}</span></td>
                                                <td class="txt-oflo"><a href="{{prescription.get_absolute_url2}}" style="width:100%;"><button class="btn btn-raised g-bg-cyan" style="width:100%; text-align: center;">View</button></a></td>
                                            
                                            </tr>
                                        {% endfor %}
                                    </tbody>
                                </table>
                                <!-- <a href="javascript:void(0);">Check all the sales</a> -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>    
        </div>
        </div>
    </div>
</section>   
{% endblock %}

        
        